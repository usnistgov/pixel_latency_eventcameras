<!DOCTYPE html>
<!--
This software was developed at the National Institute of Standards and
Technology by employees of the Federal Government in the course of
their official duties. Pursuant to title 17 Section 105 of the United
States Code this software is not subject to copyright protection and is
in the public domain. This software is an experimental system. NIST assumes
no responsibility whatsoever for its use by other parties, and makes no
guarantees, expressed or implied, about its quality, reliability, or
any other characteristic. We would appreciate acknowledgement if the
software is used.
-->
<html><head>
  <meta http-equiv="content-type" content="text/html; charset=windows-1252">
  <title>NIST Computational Science in Metrology</title>
  <link rel="icon" href="https://isg.nist.gov/deepzoomweb/resources/img/favicon.ico;jsessionid=21CE77F2344B143AD8BF5B4A4F06CCA0" type="image/x-icon">
  <!--<link rel="stylesheet" type="text/css" href="./css/reset.css" media="screen">  -->
  <link rel="stylesheet" type="text/css" href="css/main_style.css" media="screen">
  <link rel="stylesheet" type="text/css" href="css/layout.css" media="screen">
  <!-- <link rel="stylesheet" type="text/css" href="./css/bootstrap.css"> -->

  <script type="text/javascript" language="javascript" src="js/jquery/jquery.min.js"></script>
  <script type="text/javascript" language="javascript" src="js/site.js"></script>

<!--   <link rel="stylesheet" type="text/css" href="./src/imageMagnify.css" media="screen">
   <script type="text/javascript" language="javascript" src="./src/imageMagnify.js"></script>-->

<style>
  #image-container {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
  }
  #image-container img {
    width: 400px;
    height: 350px;
    margin: 10px;
  }

.mytable {
    display:table;
	border:10px solid blue;
    width:50%;
	cellpadding:4px;
	cellspacing:3px;
}

.myrow {
    display: table-row;
}
.mycell {
    display: table-cell;
    padding: 1px;
	border: 1px solid blue;
	background-color: #cccccc;
}

.myrow:hover {
   /* background-color: #BCD2EE;*/ /*#cccccc; */
}
.mycell:hover {
    background-color: #BCD2EE;
}

.mynewtable a {
	display: block;
	text-decoration:none;
}

table {
    border-spacing: 0;
    width: 50%;
    border: 1px solid #ddd;
}

th, td {
    text-align: left;
    padding: 16px;
}

tr:nth-child(even) {
    background-color: #f2f2f2
}

.tooltip {
    position: relative;
    display: inline-block;
    border-bottom: 1px dotted black;
}

.tooltip .tooltiptext {
    visibility: hidden;
    width: 120px;
    background-color: black;
    color: #fff;
    text-align: center;
    border-radius: 6px;
    padding: 5px 0;

    /* Position the tooltip */
    position: absolute;
    z-index: 1;
}

.tooltip:hover .tooltiptext {
    visibility: visible;
}

</style>


</head>
<body id="menu2" >

<!-- include to enable Google Analytics 4 support -->
<script type="text/javascript" language="javascript" src="../csmet/js/gtag_script.js"></script>

<div class="container">
  <div class="row">
    <a href="https://www.nist.gov/index.html"><img src="img/bg_header.png" alt="National Institute of Standards and Technology" width="100%"></a>

    <div id="menuContainer">
      <ul id="menu">
    	<li><a id="menu1nav" href="https://isg.nist.gov/">Home</a></li>
    	<li><a id="menu2nav" href="index.html">Event Camera Latency</a></li>
      </ul>
    </div>
  </div>
</div>

<BR>
<h3 id='header1' style="text-align: center;">Latency Measurement Inspection: map_latency_Var_0_Pol_0_Vmax_250.png</h3>
<BR>
<!--<h1 style="text-align: center;">Latency Measurement Maps</h1>-->

<div id="gallery" class="gallery" style="text-align: center;">
  <!-- Images will be inserted here by JavaScript -->
</div>

<!-- Footer Starts-->
<div class="container">
  <div class="row footer">
    <div class="col-xs-12">
      <p>
        The National Institute of Standards and Technology (NIST) is
        an agency of the
        <a href="https://commerce.gov">U.S. Department of Commerce</a>.
      </p>

      <p>
        <a href="https://nist.gov/public_affairs/privacy.cfm">
          Privacy policy / security notice / accessibility statement</a>
        /
        <a href="https://nist.gov/public_affairs/disclaimer.cfm">
          Disclaimer</a>
        /
        <a href="https://nist.gov/director/foia/">
          Freedom of Information Act (FOIA)</a>
        /
        <a href="https://nist.gov/director/civil/nofearpolicy.cfm">
          No Fear Act Policy</a>
        /
        <a href="https://nist.gov/director/quality_standards.cfm">
          NIST Information Quality Standards</a>
        /
        <a href="https://nist.gov/public_affairs/envpolicy.cfm">
          Environmental Policy Statement</a>
      </p>

    </div>
  </div>
  <br>
  <div class="row">
    <div class="col-xs-12"><strong>Date created:</strong> March 24, 2025 | <strong>Last
      updated:</strong>
      <script type="text/javascript">
        //if(document.lastModified != 'undefined') { document.write(format_date_mmmddyy(document.lastModified)); }
      </script>
    </div>
  </div>
</div>
<!-- Footer Ends-->

<script>
// constants
const CAMERAS = [
  { name: "SilkyEvCam HD ID1", dir: "CAM1" },
  { name: "SilkyEvCam HD ID2", dir: "CAM2" },
  { name: "SilkyEvCam VGA ID3", dir: "CAM3" },
];
const LENSES = [
  { name: "with lens", dir: "lens1" },
  { name: "without lens", dir: "nolens" },
];
const BIASES = [ "0.75MIN", "0.50MIN", "0.25MIN", "0", "0.25MAX", "0.50MAX", "0.75MAX" ];
const ROIS = [ "630_350_10_10", "630_360_10_10", "630_370_10_10",
               "640_350_10_10", "640_360_10_10", "640_370_10_10",
               "650_350_10_10", "650_360_10_10", "650_370_10_10" ];
const IRRADIANCE = [ "0.006", "0.046", "0.166", "0.277", "0.398" ];
const STATS = [
  "map average",
  "map standard deviation",
  "map min",
  "map max",
  "map median",
  "readout",
  "median/min/max per ROI",
  "standard deviation per ROI",
  "number of events per ROI",
  "average per irradiance over bias",
  "average per ROI over bias",
  "average per bias over irradiance",
];
const THRESHOLDS = [ "250", "500", "1000" ];
const STDDEV_THRESHOLDS = [ "25", "50", "100" ];

const imagePointer = window.location.hash.substring(1);
const splitName = imagePointer.split("_")

console.log("index_viewFigures.html: " + imagePointer);
console.log("index_viewFigures.html: len(splitName)=" + (splitName.length));

const cameraVal = parseInt(splitName[1]);
const lensVal = parseInt(splitName[3]);
const statsVal = parseInt(splitName[5]);
const polarityVal = parseInt(splitName[7]);

console.log(cameraVal+", "+lensVal+", "+statsVal+", "+polarityVal);

const cam = CAMERAS[cameraVal];
const lens = LENSES[lensVal];
const cameraName = cam.name
const lensName = lens.name
const statsName = STATS[statsVal]
const imgDir = `./Images/${cam.dir}/${lens.dir}/figures_${cam.dir}_${lens.dir}`;

let header1text = `<br>
Latency Measurement:<br>
Camera Model = ${cameraName}<br>
Lens = ${lensName}<br>
Stats = ${statsName}<br>
Polarity = ${polarityVal}<br>
`;

function getMapImages() {
  let images = [];
  let threshValues = statsVal === 1 ? STDDEV_THRESHOLDS : THRESHOLDS;

  for (let threshVal = 0; threshVal < 3; threshVal++) {
    const threshName = threshValues[threshVal];
    images.push({
      filename: `${imgDir}_maps/map_latency_Var_${statsVal}_Pol_${polarityVal}_Vmax_${threshName}.png`,
      caption: `Latency Measurement: Stats = ${statsName} Polarity = ${polarityVal} Vmax = ${threshName}`
    })
  }
  header1text += `Vmax Values = ${threshValues}<br>`;

  return images;
}

function getReadoutImages() {
  return [{
      filename: `${imgDir}_size_roi/multiPixel_latency_Pol_${polarityVal}.png`,
      caption: `Pixel latency of polarity ${polarityVal} events for differenty ROI sizes`
    }];
}

function getROIImages() {
  let images = [];
  let statPrefix = "nbevents";

  if (statsVal === 6) {
    statPrefix = "median";
  } else if (statsVal === 7) {
    statPrefix = "stdev";
  }

  for (const irr of IRRADIANCE) {
    for (const bias of BIASES) {
      images.push({
        filename: `${imgDir}_ROI/${statPrefix}_latency_per_ROI_Pol_${polarityVal}_Irr_${irr}_Bias_${bias}.png`,
        caption: `Median latency per ROI (irradiance = ${irr}, bias configuraiton = ${bias})`,
      });
    }
  }
  return images;
}

function getGraphsImages() {
  let images = []

  if (statsVal === 9) {
    images.push({
      filename: `${imgDir}/avg_latency_allBias_per_irr.png`,
      caption: `Average latency per irradiance for all biases`,
    });
  } else if (statsVal === 10) {
    for (const bias of BIASES) {
      images.push({
        filename: `${imgDir}/latency_per_ROI_forBias_${bias}.png`,
        caption: `Average latency per ROI on the irradiace (bias = ${bias})`,
      })
    }
  } else {
    for (const roi of ROIS) {
      console.log(roi)
      images.push({
        filename: `${imgDir}/latency_per_bias_forROI_${roi}.png`,
        captions: `Average latency per bias over the irradiance (ROI: ${roi})`,
      })
    }
  }
  return images;
}

let images = [];

if (0 <= statsVal && statsVal <= 4) {
  images = getMapImages();
} else if (statsVal == 5) {
  images = getReadoutImages();
} else if (6 <= statsVal && statsVal <= 8) {
  images = getROIImages();
} else if (9 <= statsVal && statsVal <= 11) {
  images = getGraphsImages();
}

// display images
document.getElementById("header1").innerHTML = header1text;

const galleryElement = document.getElementById('gallery');
// Clear any existing content
galleryElement.innerHTML = '';

images.forEach(image => {
  // Create container for image and caption
  const container = document.createElement('div');
  container.className = 'image-container';

  // Create image element
  const img = document.createElement('img');
  img.src = image.filename; //image.url;
  img.alt = image.caption; //image.caption;
  img.loading = 'lazy'; // Lazy loading for better performance

  // Create caption element
  const caption = document.createElement('div');
  caption.className = 'caption';
  caption.textContent = image.caption;//image.caption;

  // Append elements to container
  container.appendChild(img);
  container.appendChild(caption);

  // Append container to gallery
  galleryElement.appendChild(container);
});

</script>


</body>
</html>
